{% extends 'base.html' %}
{% load static %}

{% block title %}Home{% endblock %}

{% block content %}
<div class="container flex-column pt-3">
    <section class="text-center">
        <h1 class="main-title mx-auto">Welcome to the Community Area of Healthy Food Club!</h1>
        <p class="pt-4">This is where we share healthy recipes, information and tips & tricks for a better food
            lifestyle. We aim to generate positive discussion for all those interested in becoming more aware of what we
            eat. Join us today and share your favorite recipes! We also have a useful search and filter option. Give it
            a try!</p>
    </section>
    <h2>Recipes</h2>
    <div class="search-button"><button class="ms-auto btn btn-success">Search <i class="fa-solid fa-magnifying-glass"></i></button>
    </div> 
    <hr>
    <div class="recipe-cont">
        {% for recipe in recipes %}
        <a href="{% url 'recipe_detail' recipe.slug %}" class="img-container">
            <img src="{{recipe.image.url}}" alt="{{recipe.image_alt}}" style="width: 100%">
            <div class="centerd">
                <h2>{{recipe.title}}</h2>
                <p class="author">
                    <span class="fa fa-star {% if recipe.average_rating > 0 %} checked {% endif %}"></span>
                    <span class="fa fa-star {% if recipe.average_rating > 1 %} checked {% endif %}"></span>
                    <span class="fa fa-star {% if recipe.average_rating > 2 %} checked {% endif %}"></span>
                    <span class="fa fa-star {% if recipe.average_rating > 3 %} checked {% endif %}"></span>
                    <span class="fa fa-star {% if recipe.average_rating > 4 %} checked {% endif %}"></span>
                </p>
            </div>
        </a>
        {% endfor %}
    </div>
    </section>
    {% if is_paginated %}
    <nav aria-label="Page navigation">
        <ul class="pagination justify-content-center">
            {% if page_obj.has_previous %}
            <li><a href="?page={{ page_obj.previous_page_number }}" class="page-link">&laquo; PREV </a></li>
            {% endif %}
            {% if page_obj.has_next %}
            <li><a href="?page={{ page_obj.next_page_number }}" class="page-link"> NEXT &raquo;</a></li>
            {% endif %}
        </ul>
    </nav>
    {% endif %}
</div>
{% endblock %}